{"remainingRequest":"/Users/zhangyangzuo/Downloads/lucky-draw-master/node_modules/babel-loader/lib/index.js!/Users/zhangyangzuo/Downloads/lucky-draw-master/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/zhangyangzuo/Downloads/lucky-draw-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhangyangzuo/Downloads/lucky-draw-master/src/components/LotteryConfig.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhangyangzuo/Downloads/lucky-draw-master/src/components/LotteryConfig.vue","mtime":1617288854000},{"path":"/Users/zhangyangzuo/Downloads/lucky-draw-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhangyangzuo/Downloads/lucky-draw-master/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zhangyangzuo/Downloads/lucky-draw-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhangyangzuo/Downloads/lucky-draw-master/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0IjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgc2V0RGF0YSwgY29uZmlnRmllbGQgfSBmcm9tICdAL2hlbHBlci9pbmRleCc7CmltcG9ydCB7IHJhbmRvbU51bSB9IGZyb20gJ0AvaGVscGVyL2FsZ29yaXRobSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnTG90dGVyeUNvbmZpZycsCiAgcHJvcHM6IHsKICAgIHZpc2libGU6IEJvb2xlYW4KICB9LAogIGNvbXB1dGVkOiB7CiAgICBmb3JtOiB7CiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5jb25maWc7CiAgICAgIH0sCiAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbCkgewogICAgICAgIC8vIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0Q29uZmlnJywgdmFsKTsKICAgICAgICByZXR1cm4gdmFsOwogICAgICB9CiAgICB9LAogICAgc3RvcmVOZXdMb3R0ZXJ5OiBmdW5jdGlvbiBzdG9yZU5ld0xvdHRlcnkoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5uZXdMb3R0ZXJ5OwogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNob3dBZGRMb3R0ZXJ5OiBmYWxzZSwKICAgICAgbmV3TG90dGVyeTogewogICAgICAgIG5hbWU6ICcnCiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBvblN1Ym1pdDogZnVuY3Rpb24gb25TdWJtaXQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBzZXREYXRhKGNvbmZpZ0ZpZWxkLCB0aGlzLmZvcm0pOwogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldENvbmZpZycsIHRoaXMuZm9ybSk7CiAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTp2aXNpYmxlJywgZmFsc2UpOwogICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICBtZXNzYWdlOiAn5L+d5a2Y5oiQ5YqfJywKICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgfSk7CiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy4kZW1pdCgncmVzZXRjb25maWcnKTsKICAgICAgfSk7CiAgICB9LAogICAgYWRkTG90dGVyeTogZnVuY3Rpb24gYWRkTG90dGVyeSgpIHsKICAgICAgdGhpcy5zaG93QWRkTG90dGVyeSA9IHRydWU7CiAgICB9LAogICAgcmFuZG9tRmllbGQ6IGZ1bmN0aW9uIHJhbmRvbUZpZWxkKCkgewogICAgICB2YXIgc3RyID0gJ2FiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6JzsKICAgICAgdmFyIGZpZWxkU3RyID0gJyc7CgogICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgMTA7IGluZGV4KyspIHsKICAgICAgICBmaWVsZFN0ciArPSBzdHIuc3BsaXQoJycpW3JhbmRvbU51bSgxLCAyNykgLSAxXTsKICAgICAgfQoKICAgICAgcmV0dXJuICIiLmNvbmNhdChmaWVsZFN0cikuY29uY2F0KERhdGUubm93KCkpOwogICAgfSwKICAgIGFkZEhhbmRsZXI6IGZ1bmN0aW9uIGFkZEhhbmRsZXIoKSB7CiAgICAgIHZhciBmaWVsZCA9IHRoaXMucmFuZG9tRmllbGQoKTsKICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAga2V5OiBmaWVsZCwKICAgICAgICBuYW1lOiB0aGlzLm5ld0xvdHRlcnkubmFtZQogICAgICB9OwogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldE5ld0xvdHRlcnknLCBkYXRhKTsKICAgICAgdGhpcy5zaG93QWRkTG90dGVyeSA9IGZhbHNlOwogICAgfQogIH0KfTs="},{"version":3,"sources":["LotteryConfig.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiFA,SAAA,OAAA,EAAA,WAAA,QAAA,gBAAA;AACA,SAAA,SAAA,QAAA,oBAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,eADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,OAAA,EAAA;AADA,GAFA;AAKA,EAAA,QAAA,EAAA;AACA,IAAA,IAAA,EAAA;AACA,MAAA,GADA,iBACA;AACA,eAAA,KAAA,MAAA,CAAA,KAAA,CAAA,MAAA;AACA,OAHA;AAIA,MAAA,GAJA,eAIA,GAJA,EAIA;AACA;AACA,eAAA,GAAA;AACA;AAPA,KADA;AAUA,IAAA,eAVA,6BAUA;AACA,aAAA,KAAA,MAAA,CAAA,KAAA,CAAA,UAAA;AACA;AAZA,GALA;AAmBA,EAAA,IAnBA,kBAmBA;AACA,WAAA;AACA,MAAA,cAAA,EAAA,KADA;AAEA,MAAA,UAAA,EAAA;AAAA,QAAA,IAAA,EAAA;AAAA;AAFA,KAAA;AAIA,GAxBA;AAyBA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,sBACA;AAAA;;AACA,MAAA,OAAA,CAAA,WAAA,EAAA,KAAA,IAAA,CAAA;AACA,WAAA,MAAA,CAAA,MAAA,CAAA,WAAA,EAAA,KAAA,IAAA;AACA,WAAA,KAAA,CAAA,gBAAA,EAAA,KAAA;AAEA,WAAA,QAAA,CAAA;AACA,QAAA,OAAA,EAAA,MADA;AAEA,QAAA,IAAA,EAAA;AAFA,OAAA;AAKA,WAAA,SAAA,CAAA,YAAA;AACA,QAAA,KAAA,CAAA,KAAA,CAAA,aAAA;AACA,OAFA;AAGA,KAdA;AAeA,IAAA,UAfA,wBAeA;AACA,WAAA,cAAA,GAAA,IAAA;AACA,KAjBA;AAkBA,IAAA,WAlBA,yBAkBA;AACA,UAAA,GAAA,GAAA,4BAAA;AACA,UAAA,QAAA,GAAA,EAAA;;AACA,WAAA,IAAA,KAAA,GAAA,CAAA,EAAA,KAAA,GAAA,EAAA,EAAA,KAAA,EAAA,EAAA;AACA,QAAA,QAAA,IAAA,GAAA,CAAA,KAAA,CAAA,EAAA,EAAA,SAAA,CAAA,CAAA,EAAA,EAAA,CAAA,GAAA,CAAA,CAAA;AACA;;AACA,uBAAA,QAAA,SAAA,IAAA,CAAA,GAAA,EAAA;AACA,KAzBA;AA0BA,IAAA,UA1BA,wBA0BA;AACA,UAAA,KAAA,GAAA,KAAA,WAAA,EAAA;AACA,UAAA,IAAA,GAAA;AACA,QAAA,GAAA,EAAA,KADA;AAEA,QAAA,IAAA,EAAA,KAAA,UAAA,CAAA;AAFA,OAAA;AAIA,WAAA,MAAA,CAAA,MAAA,CAAA,eAAA,EAAA,IAAA;AAEA,WAAA,cAAA,GAAA,KAAA;AACA;AAnCA;AAzBA,CAAA","sourcesContent":["<template>\n  <el-dialog\n    :visible=\"visible\"\n    :append-to-body=\"true\"\n    width=\"390px\"\n    @close=\"$emit('update:visible', false)\"\n    class=\"c-LotteryConfig\"\n  >\n    <div class=\"c-LotteryConfigtitle\" slot=\"title\">\n      <span :style=\"{ fontSize: '16px', marginRight: '20px' }\">\n        抽奖配置\n      </span>\n      <el-button size=\"mini\" @click=\"addLottery\">增加奖项</el-button>\n      <el-button size=\"mini\" type=\"primary\" @click=\"onSubmit\"\n        >保存配置</el-button\n      >\n      <el-button size=\"mini\" @click=\"$emit('update:visible', false)\"\n        >取消</el-button\n      >\n    </div>\n    <div class=\"container\">\n      <el-form ref=\"form\" :model=\"form\" size=\"mini\">\n        <el-form-item label=\"抽奖标题\">\n          <el-input v-model=\"form.name\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"抽奖总人数\">\n          <el-input\n            type=\"number\"\n            v-model=\"form.number\"\n            :min=\"1\"\n            :step=\"1\"\n          ></el-input>\n        </el-form-item>\n        <el-form-item label=\"一等奖\">\n          <el-input\n            type=\"number\"\n            v-model=\"form.firstPrize\"\n            :min=\"0\"\n            :step=\"1\"\n          ></el-input>\n        </el-form-item>\n        <el-form-item\n          :label=\"newitem.name\"\n          v-for=\"newitem in storeNewLottery\"\n          :key=\"newitem.key\"\n        >\n          <el-input\n            type=\"number\"\n            :min=\"0\"\n            :step=\"1\"\n            v-model=\"form[newitem.key]\"\n            @change=\"\n              val => {\n                form[newitem.key] = Number(val);\n              }\n            \"\n          ></el-input>\n        </el-form-item>\n      </el-form>\n    </div>\n\n    <el-dialog\n      :visible.sync=\"showAddLottery\"\n      :append-to-body=\"true\"\n      width=\"300px\"\n      class=\"dialog-showAddLottery\"\n    >\n      <div class=\"add-title\" slot=\"title\">增加奖项</div>\n      <el-form ref=\"newLottery\" :model=\"newLottery\" size=\"mini\">\n        <el-form-item label=\"奖项名称\">\n          <el-input v-model=\"newLottery.name\"></el-input>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"addHandler\">增加奖项</el-button>\n          <el-button @click=\"showAddLottery = false\">取消</el-button>\n        </el-form-item>\n      </el-form>\n    </el-dialog>\n  </el-dialog>\n</template>\n<script>\nimport { setData, configField } from '@/helper/index';\nimport { randomNum } from '@/helper/algorithm';\nexport default {\n  name: 'LotteryConfig',\n  props: {\n    visible: Boolean\n  },\n  computed: {\n    form: {\n      get() {\n        return this.$store.state.config;\n      },\n      set(val) {\n        // this.$store.commit('setConfig', val);\n        return val;\n      }\n    },\n    storeNewLottery() {\n      return this.$store.state.newLottery;\n    }\n  },\n  data() {\n    return {\n      showAddLottery: false,\n      newLottery: { name: '' }\n    };\n  },\n  methods: {\n    onSubmit() {\n      setData(configField, this.form);\n      this.$store.commit('setConfig', this.form);\n      this.$emit('update:visible', false);\n\n      this.$message({\n        message: '保存成功',\n        type: 'success'\n      });\n\n      this.$nextTick(() => {\n        this.$emit('resetconfig');\n      });\n    },\n    addLottery() {\n      this.showAddLottery = true;\n    },\n    randomField() {\n      const str = 'abcdefghijklmnopqrstuvwxyz';\n      let fieldStr = '';\n      for (let index = 0; index < 10; index++) {\n        fieldStr += str.split('')[randomNum(1, 27) - 1];\n      }\n      return `${fieldStr}${Date.now()}`;\n    },\n    addHandler() {\n      const field = this.randomField();\n      const data = {\n        key: field,\n        name: this.newLottery.name\n      };\n      this.$store.commit('setNewLottery', data);\n\n      this.showAddLottery = false;\n    }\n  }\n};\n</script>\n<style lang=\"scss\">\n.c-LotteryConfig {\n  .el-dialog__body {\n    height: 340px;\n    .container {\n      height: 100%;\n      overflow-y: auto;\n      padding: 0 10px;\n    }\n  }\n}\n.dialog-showAddLottery {\n  .el-dialog {\n    height: 186px;\n  }\n}\n</style>\n"],"sourceRoot":"src/components"}]}