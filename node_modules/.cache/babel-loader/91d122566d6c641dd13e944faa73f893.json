{"remainingRequest":"/Users/zhangyangzuo/Downloads/BSC-lucky-draw/node_modules/babel-loader/lib/index.js!/Users/zhangyangzuo/Downloads/BSC-lucky-draw/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/zhangyangzuo/Downloads/BSC-lucky-draw/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhangyangzuo/Downloads/BSC-lucky-draw/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhangyangzuo/Downloads/BSC-lucky-draw/src/App.vue","mtime":1636611834178},{"path":"/Users/zhangyangzuo/Downloads/BSC-lucky-draw/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhangyangzuo/Downloads/BSC-lucky-draw/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zhangyangzuo/Downloads/BSC-lucky-draw/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhangyangzuo/Downloads/BSC-lucky-draw/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvVXNlcnMvemhhbmd5YW5nenVvL0Rvd25sb2Fkcy9CU0MtbHVja3ktZHJhdy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgTG90dGVyeUNvbmZpZyBmcm9tICdAL2NvbXBvbmVudHMvTG90dGVyeUNvbmZpZyc7CmltcG9ydCBQdWJsaWNpdHkgZnJvbSAnQC9jb21wb25lbnRzL1B1YmxpY2l0eSc7CmltcG9ydCBUb29sIGZyb20gJ0AvY29tcG9uZW50cy9Ub29sJzsKaW1wb3J0IGJnYXVkaW8gZnJvbSAnQC9hc3NldHMvYmcubXAzJzsKaW1wb3J0IGJlZ2luYXVkaW8gZnJvbSAnQC9hc3NldHMvYmVnaW4ubXAzJzsKaW1wb3J0IHsgZ2V0RGF0YSwgY29uZmlnRmllbGQsIHJlc3VsdEZpZWxkLCBuZXdMb3R0ZXJ5RmllbGQsIGNvbnZlcnNpb25DYXRlZ29yeU5hbWUsIGxpc3RGaWVsZCB9IGZyb20gJ0AvaGVscGVyL2luZGV4JzsKaW1wb3J0IHsgbHVja3lkcmF3SGFuZGxlciB9IGZyb20gJ0AvaGVscGVyL2FsZ29yaXRobSc7CmltcG9ydCBSZXN1bHQgZnJvbSAnQC9jb21wb25lbnRzL1Jlc3VsdCc7CmltcG9ydCB7IGRhdGFiYXNlLCBEQl9TVE9SRV9OQU1FIH0gZnJvbSAnQC9oZWxwZXIvZGInOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0FwcCcsCiAgY29tcG9uZW50czogewogICAgTG90dGVyeUNvbmZpZzogTG90dGVyeUNvbmZpZywKICAgIFB1YmxpY2l0eTogUHVibGljaXR5LAogICAgVG9vbDogVG9vbCwKICAgIFJlc3VsdDogUmVzdWx0CiAgfSwKICBjb21wdXRlZDogewogICAgcmVzQ2FyZFN0eWxlOiBmdW5jdGlvbiByZXNDYXJkU3R5bGUoKSB7CiAgICAgIHZhciBzdHlsZSA9IHsKICAgICAgICBmb250U2l6ZTogJzMwcHgnCiAgICAgIH07CiAgICAgIHZhciBudW1iZXIgPSB0aGlzLmNvbmZpZy5udW1iZXI7CgogICAgICBpZiAobnVtYmVyIDwgMTAwKSB7CiAgICAgICAgc3R5bGUuZm9udFNpemUgPSAnNDBweCc7CiAgICAgIH0gZWxzZSBpZiAobnVtYmVyIDwgMTAwMCkgewogICAgICAgIHN0eWxlLmZvbnRTaXplID0gJzgwcHgnOwogICAgICB9IGVsc2UgaWYgKG51bWJlciA8IDEwMDAwKSB7CiAgICAgICAgc3R5bGUuZm9udFNpemUgPSAnNjBweCc7CiAgICAgIH0KCiAgICAgIHJldHVybiBzdHlsZTsKICAgIH0sCiAgICBjb25maWc6IHsKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmNvbmZpZzsKICAgICAgfQogICAgfSwKICAgIHJlc3VsdDogewogICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUucmVzdWx0OwogICAgICB9LAogICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWwpIHsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldFJlc3VsdCcsIHZhbCk7CiAgICAgIH0KICAgIH0sCiAgICBsaXN0OiBmdW5jdGlvbiBsaXN0KCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUubGlzdDsKICAgIH0sCiAgICBhbGxyZXN1bHQ6IGZ1bmN0aW9uIGFsbHJlc3VsdCgpIHsKICAgICAgdmFyIGFsbHJlc3VsdCA9IFtdOwoKICAgICAgZm9yICh2YXIga2V5IGluIHRoaXMucmVzdWx0KSB7CiAgICAgICAgaWYgKHRoaXMucmVzdWx0Lmhhc093blByb3BlcnR5KGtleSkpIHsKICAgICAgICAgIHZhciBlbGVtZW50ID0gdGhpcy5yZXN1bHRba2V5XTsKICAgICAgICAgIGFsbHJlc3VsdCA9IGFsbHJlc3VsdC5jb25jYXQoZWxlbWVudCk7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gYWxscmVzdWx0OwogICAgfSwKICAgIGRhdGFzOiBmdW5jdGlvbiBkYXRhcygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBudW1iZXIgPSB0aGlzLmNvbmZpZy5udW1iZXI7CiAgICAgIHZhciBudW1zID0gbnVtYmVyID49IDE1MDAgPyA1MDAgOiB0aGlzLmNvbmZpZy5udW1iZXI7CiAgICAgIHZhciBjb25maWdOdW0gPSBudW1iZXIgPiAxNTAwID8gTWF0aC5mbG9vcihudW1iZXIgLyAzKSA6IG51bWJlcjsKICAgICAgdmFyIHJhbmRvbVNob3dOdW1zID0gbHVja3lkcmF3SGFuZGxlcihjb25maWdOdW0sIFtdLCBudW1zKTsKICAgICAgdmFyIHJhbmRvbVNob3dEYXRhcyA9IHJhbmRvbVNob3dOdW1zLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHZhciBsaXN0RGF0YSA9IF90aGlzLmxpc3QuZmluZChmdW5jdGlvbiAoZCkgewogICAgICAgICAgcmV0dXJuIGQua2V5ID09PSBpdGVtOwogICAgICAgIH0pOwoKICAgICAgICB2YXIgcGhvdG8gPSBfdGhpcy5waG90b3MuZmluZChmdW5jdGlvbiAoZCkgewogICAgICAgICAgcmV0dXJuIGQuaWQgPT09IGl0ZW07CiAgICAgICAgfSk7CgogICAgICAgIHJldHVybiB7CiAgICAgICAgICBrZXk6IGl0ZW0gKiAobnVtYmVyID4gMTUwMCA/IDMgOiAxKSwKICAgICAgICAgIG5hbWU6IGxpc3REYXRhID8gbGlzdERhdGEubmFtZSA6ICcnLAogICAgICAgICAgcGhvdG86IHBob3RvID8gcGhvdG8udmFsdWUgOiAnJwogICAgICAgIH07CiAgICAgIH0pOwogICAgICByZXR1cm4gcmFuZG9tU2hvd0RhdGFzOwogICAgfSwKICAgIGNhdGVnb3J5TmFtZTogZnVuY3Rpb24gY2F0ZWdvcnlOYW1lKCkgewogICAgICByZXR1cm4gY29udmVyc2lvbkNhdGVnb3J5TmFtZSh0aGlzLmNhdGVnb3J5KTsKICAgIH0sCiAgICBwaG90b3M6IGZ1bmN0aW9uIHBob3RvcygpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnBob3RvczsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICB2YXIgZGF0YSA9IGdldERhdGEoY29uZmlnRmllbGQpOwoKICAgIGlmIChkYXRhKSB7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0Q29uZmlnJywgT2JqZWN0LmFzc2lnbih7fSwgZGF0YSkpOwogICAgfQoKICAgIHZhciByZXN1bHQgPSBnZXREYXRhKHJlc3VsdEZpZWxkKTsKCiAgICBpZiAocmVzdWx0KSB7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0UmVzdWx0JywgcmVzdWx0KTsKICAgIH0KCiAgICB2YXIgbmV3TG90dGVyeSA9IGdldERhdGEobmV3TG90dGVyeUZpZWxkKTsKCiAgICBpZiAobmV3TG90dGVyeSkgewogICAgICB2YXIgY29uZmlnID0gdGhpcy5jb25maWc7CiAgICAgIG5ld0xvdHRlcnkuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIF90aGlzMi4kc3RvcmUuY29tbWl0KCdzZXROZXdMb3R0ZXJ5JywgaXRlbSk7CgogICAgICAgIGlmICghY29uZmlnW2l0ZW0ua2V5XSkgewogICAgICAgICAgX3RoaXMyLiRzZXQoY29uZmlnLCBpdGVtLmtleSwgMCk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRDb25maWcnLCBjb25maWcpOwogICAgfQoKICAgIHZhciBsaXN0ID0gZ2V0RGF0YShsaXN0RmllbGQpOwoKICAgIGlmIChsaXN0KSB7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0TGlzdCcsIGxpc3QpOwogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHJ1bm5pbmc6IGZhbHNlLAogICAgICBzaG93UmVzOiBmYWxzZSwKICAgICAgc2hvd0NvbmZpZzogZmFsc2UsCiAgICAgIHNob3dSZXN1bHQ6IGZhbHNlLAogICAgICByZXNBcnI6IFtdLAogICAgICBjYXRlZ29yeTogJycsCiAgICAgIGF1ZGlvUGxheWluZzogZmFsc2UsCiAgICAgIGF1ZGlvU3JjOiBiZ2F1ZGlvCiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgIHBob3RvczogewogICAgICBkZWVwOiB0cnVlLAogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKCkgewogICAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczMucmVsb2FkVGFnQ2FudmFzKCk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICB0aGlzLnN0YXJ0VGFnQ2FudmFzKCk7CiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXM0LmdldFBob3RvKCk7CiAgICB9LCAxMDAwKTsKICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLnJlcG9ydFdpbmRvd1NpemUpOwogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLnJlcG9ydFdpbmRvd1NpemUpOwogIH0sCiAgbWV0aG9kczogewogICAgcmVwb3J0V2luZG93U2l6ZTogZnVuY3Rpb24gcmVwb3J0V2luZG93U2l6ZSgpIHsKICAgICAgdmFyIEFwcENhbnZhcyA9IHRoaXMuJGVsLnF1ZXJ5U2VsZWN0b3IoJyNyb290Y2FudmFzJyk7CgogICAgICBpZiAoQXBwQ2FudmFzLnBhcmVudEVsZW1lbnQpIHsKICAgICAgICBBcHBDYW52YXMucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZChBcHBDYW52YXMpOwogICAgICB9CgogICAgICB0aGlzLnN0YXJ0VGFnQ2FudmFzKCk7CiAgICB9LAogICAgcGxheUhhbmRsZXI6IGZ1bmN0aW9uIHBsYXlIYW5kbGVyKCkgewogICAgICB0aGlzLmF1ZGlvUGxheWluZyA9IHRydWU7CiAgICB9LAogICAgcGF1c2VIYW5kbGVyOiBmdW5jdGlvbiBwYXVzZUhhbmRsZXIoKSB7CiAgICAgIHRoaXMuYXVkaW9QbGF5aW5nID0gZmFsc2U7CiAgICB9LAogICAgcGxheUF1ZGlvOiBmdW5jdGlvbiBwbGF5QXVkaW8odHlwZSkgewogICAgICBpZiAodHlwZSkgewogICAgICAgIHRoaXMuJGVsLnF1ZXJ5U2VsZWN0b3IoJyNhdWRpb2JnJykucGxheSgpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJGVsLnF1ZXJ5U2VsZWN0b3IoJyNhdWRpb2JnJykucGF1c2UoKTsKICAgICAgfQogICAgfSwKICAgIGxvYWRBdWRpbzogZnVuY3Rpb24gbG9hZEF1ZGlvKCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHRoaXMuJGVsLnF1ZXJ5U2VsZWN0b3IoJyNhdWRpb2JnJykubG9hZCgpOwogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXM1LiRlbC5xdWVyeVNlbGVjdG9yKCcjYXVkaW9iZycpLnBsYXkoKTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0UGhvdG86IGZ1bmN0aW9uIGdldFBob3RvKCkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIGRhdGFiYXNlLmdldEFsbChEQl9TVE9SRV9OQU1FKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzICYmIHJlcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICBfdGhpczYuJHN0b3JlLmNvbW1pdCgnc2V0UGhvdG9zJywgcmVzKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHNwZWVkOiBmdW5jdGlvbiBzcGVlZCgpIHsKICAgICAgcmV0dXJuIFswLjEgKiBNYXRoLnJhbmRvbSgpICsgMC4wMSwgLSgwLjEgKiBNYXRoLnJhbmRvbSgpICsgMC4wMSldOwogICAgfSwKICAgIGNyZWF0ZUNhbnZhczogZnVuY3Rpb24gY3JlYXRlQ2FudmFzKCkgewogICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7CiAgICAgIGNhbnZhcy53aWR0aCA9IGRvY3VtZW50LmJvZHkub2Zmc2V0V2lkdGg7CiAgICAgIGNhbnZhcy5oZWlnaHQgPSBkb2N1bWVudC5ib2R5Lm9mZnNldEhlaWdodDsKICAgICAgY2FudmFzLmlkID0gJ3Jvb3RjYW52YXMnOwogICAgICB0aGlzLiRlbC5xdWVyeVNlbGVjdG9yKCcjbWFpbicpLmFwcGVuZENoaWxkKGNhbnZhcyk7CiAgICB9LAogICAgc3RhcnRUYWdDYW52YXM6IGZ1bmN0aW9uIHN0YXJ0VGFnQ2FudmFzKCkgewogICAgICB0aGlzLmNyZWF0ZUNhbnZhcygpOwogICAgICB2YXIgc3BlZWQgPSB0aGlzLnNwZWVkOwogICAgICB3aW5kb3cuVGFnQ2FudmFzLlN0YXJ0KCdyb290Y2FudmFzJywgJ3RhZ3MnLCB7CiAgICAgICAgdGV4dENvbG91cjogbnVsbCwKICAgICAgICBpbml0aWFsOiBzcGVlZCgpLAogICAgICAgIGRyYWdDb250cm9sOiAxLAogICAgICAgIHRleHRIZWlnaHQ6IDIwLAogICAgICAgIG5vU2VsZWN0OiB0cnVlLAogICAgICAgIGxvY2s6ICd4eScKICAgICAgfSk7CiAgICB9LAogICAgcmVsb2FkVGFnQ2FudmFzOiBmdW5jdGlvbiByZWxvYWRUYWdDYW52YXMoKSB7CiAgICAgIHdpbmRvdy5UYWdDYW52YXMuUmVsb2FkKCdyb290Y2FudmFzJyk7CiAgICB9LAogICAgY2xvc2VSZXM6IGZ1bmN0aW9uIGNsb3NlUmVzKCkgewogICAgICB0aGlzLnNob3dSZXMgPSBmYWxzZTsKICAgIH0sCiAgICB0b2dnbGU6IGZ1bmN0aW9uIHRvZ2dsZShmb3JtKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgICAgdmFyIHNwZWVkID0gdGhpcy5zcGVlZCwKICAgICAgICAgIGNvbmZpZyA9IHRoaXMuY29uZmlnOwoKICAgICAgaWYgKHRoaXMucnVubmluZykgewogICAgICAgIHRoaXMuYXVkaW9TcmMgPSBiZ2F1ZGlvOwogICAgICAgIHRoaXMubG9hZEF1ZGlvKCk7CiAgICAgICAgd2luZG93LlRhZ0NhbnZhcy5TZXRTcGVlZCgncm9vdGNhbnZhcycsIHNwZWVkKCkpOwogICAgICAgIHRoaXMuc2hvd1JlcyA9IHRydWU7CiAgICAgICAgdGhpcy5ydW5uaW5nID0gIXRoaXMucnVubmluZzsKICAgICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczcucmVsb2FkVGFnQ2FudmFzKCk7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zaG93UmVzID0gZmFsc2U7CgogICAgICAgIGlmICghZm9ybSkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5hdWRpb1NyYyA9IGJlZ2luYXVkaW87CiAgICAgICAgdGhpcy5sb2FkQXVkaW8oKTsKICAgICAgICB2YXIgbnVtYmVyID0gY29uZmlnLm51bWJlcjsKICAgICAgICB2YXIgY2F0ZWdvcnkgPSBmb3JtLmNhdGVnb3J5LAogICAgICAgICAgICBtb2RlID0gZm9ybS5tb2RlLAogICAgICAgICAgICBxdHkgPSBmb3JtLnF0eSwKICAgICAgICAgICAgcmVtYWluID0gZm9ybS5yZW1haW4sCiAgICAgICAgICAgIGFsbGluID0gZm9ybS5hbGxpbjsKICAgICAgICB2YXIgbnVtID0gMTsKCiAgICAgICAgaWYgKG1vZGUgPT09IDEgfHwgbW9kZSA9PT0gNSkgewogICAgICAgICAgbnVtID0gbW9kZTsKICAgICAgICB9IGVsc2UgaWYgKG1vZGUgPT09IDApIHsKICAgICAgICAgIG51bSA9IHJlbWFpbjsKICAgICAgICB9IGVsc2UgaWYgKG1vZGUgPT09IDk5KSB7CiAgICAgICAgICBudW0gPSBxdHk7CiAgICAgICAgfQoKICAgICAgICB2YXIgcmVzQXJyID0gbHVja3lkcmF3SGFuZGxlcihudW1iZXIsIGFsbGluID8gW10gOiB0aGlzLmFsbHJlc3VsdCwgbnVtKTsKICAgICAgICB0aGlzLnJlc0FyciA9IHJlc0FycjsKICAgICAgICB0aGlzLmNhdGVnb3J5ID0gY2F0ZWdvcnk7CgogICAgICAgIGlmICghdGhpcy5yZXN1bHRbY2F0ZWdvcnldKSB7CiAgICAgICAgICB0aGlzLiRzZXQodGhpcy5yZXN1bHQsIGNhdGVnb3J5LCBbXSk7CiAgICAgICAgfQoKICAgICAgICB2YXIgb2xkUmVzID0gdGhpcy5yZXN1bHRbY2F0ZWdvcnldIHx8IFtdOwogICAgICAgIHZhciBkYXRhID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5yZXN1bHQsIF9kZWZpbmVQcm9wZXJ0eSh7fSwgY2F0ZWdvcnksIG9sZFJlcy5jb25jYXQocmVzQXJyKSkpOwogICAgICAgIHRoaXMucmVzdWx0ID0gZGF0YTsKICAgICAgICB3aW5kb3cuVGFnQ2FudmFzLlNldFNwZWVkKCdyb290Y2FudmFzJywgWzUsIDFdKTsKICAgICAgICB0aGlzLnJ1bm5pbmcgPSAhdGhpcy5ydW5uaW5nOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["App.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div id=\"root\">\n    <header>\n      <Publicity v-show=\"!running\" />\n      <el-button class=\"res\" type=\"text\" @click=\"showResult = true\">\n        抽奖结果\n      </el-button>\n      <el-button class=\"con\" type=\"text\" @click=\"showConfig = true\">\n        抽奖配置\n      </el-button>\n    </header>\n    <div id=\"main\" :class=\"{ mask: showRes }\"></div>\n    <div id=\"tags\">\n      <ul v-for=\"item in datas\" :key=\"item.key\">\n        <li>\n          <a\n            href=\"javascript:void(0);\"\n            :style=\"{\n              color: '#fff',\n            }\"\n          >\n            {{ item.name ? item.name : item.key }}\n            <img v-if=\"item.photo\" :src=\"item.photo\" :width=\"50\" :height=\"50\" />\n          </a>\n        </li>\n      </ul>\n    </div>\n    <transition name=\"bounce\">\n      <div id=\"resbox\" v-show=\"showRes\">\n        <p @click=\"showRes = false\">{{ categoryName }}抽奖结果：</p>\n        <div class=\"container\">\n          <span\n            v-for=\"item in resArr\"\n            :key=\"item\"\n            class=\"itemres\"\n            :style=\"resCardStyle\"\n            :data-id=\"item\"\n            @click=\"showRes = false\"\n            :class=\"{\n              numberOver:\n                !!photos.find((d) => d.id === item) ||\n                !!list.find((d) => d.key === item),\n            }\"\n          >\n            <span class=\"cont\" v-if=\"!photos.find((d) => d.id === item)\">\n              <span\n                v-if=\"!!list.find((d) => d.key === item)\"\n                :style=\"{\n                  fontSize: '40px',\n                }\"\n              >\n                {{ list.find((d) => d.key === item).name }}\n              </span>\n              <span v-else>\n                {{ item }}\n              </span>\n            </span>\n            <img\n              v-if=\"photos.find((d) => d.id === item)\"\n              :src=\"photos.find((d) => d.id === item).value\"\n              alt=\"photo\"\n              :width=\"160\"\n              :height=\"160\"\n            />\n          </span>\n        </div>\n      </div>\n    </transition>\n\n    <el-button\n      class=\"audio\"\n      type=\"text\"\n      @click=\"\n        () => {\n          playAudio(!audioPlaying);\n        }\n      \"\n    >\n      <i\n        class=\"iconfont\"\n        :class=\"[audioPlaying ? 'iconstop' : 'iconplay1']\"\n      ></i>\n    </el-button>\n\n    <LotteryConfig :visible.sync=\"showConfig\" @resetconfig=\"reloadTagCanvas\" />\n    <Tool\n      @toggle=\"toggle\"\n      @resetConfig=\"reloadTagCanvas\"\n      @getPhoto=\"getPhoto\"\n      :running=\"running\"\n      :closeRes=\"closeRes\"\n    />\n    <Result :visible.sync=\"showResult\"></Result>\n\n    <span class=\"copy-right\">\n      Copyright© UBS BSC China \n    </span>\n\n    <audio\n      id=\"audiobg\"\n      preload=\"auto\"\n      controls\n      autoplay\n      loop\n      @play=\"playHandler\"\n      @pause=\"pauseHandler\"\n    >\n      <source :src=\"audioSrc\" />\n      你的浏览器不支持audio标签\n    </audio>\n  </div>\n</template>\n<script>\nimport LotteryConfig from '@/components/LotteryConfig';\nimport Publicity from '@/components/Publicity';\nimport Tool from '@/components/Tool';\nimport bgaudio from '@/assets/bg.mp3';\nimport beginaudio from '@/assets/begin.mp3';\nimport {\n  getData,\n  configField,\n  resultField,\n  newLotteryField,\n  conversionCategoryName,\n  listField,\n} from '@/helper/index';\nimport { luckydrawHandler } from '@/helper/algorithm';\nimport Result from '@/components/Result';\nimport { database, DB_STORE_NAME } from '@/helper/db';\nexport default {\n  name: 'App',\n\n  components: { LotteryConfig, Publicity, Tool, Result },\n\n  computed: {\n    resCardStyle() {\n      const style = { fontSize: '30px' };\n      const { number } = this.config;\n      if (number < 100) {\n        style.fontSize = '40px';\n      } else if (number < 1000) {\n        style.fontSize = '80px';\n      } else if (number < 10000) {\n        style.fontSize = '60px';\n      }\n      return style;\n    },\n    config: {\n      get() {\n        return this.$store.state.config;\n      },\n    },\n    result: {\n      get() {\n        return this.$store.state.result;\n      },\n      set(val) {\n        this.$store.commit('setResult', val);\n      },\n    },\n    list() {\n      return this.$store.state.list;\n    },\n    allresult() {\n      let allresult = [];\n      for (const key in this.result) {\n        if (this.result.hasOwnProperty(key)) {\n          const element = this.result[key];\n          allresult = allresult.concat(element);\n        }\n      }\n      return allresult;\n    },\n    datas() {\n      const { number } = this.config;\n      const nums = number >= 1500 ? 500 : this.config.number;\n      const configNum = number > 1500 ? Math.floor(number / 3) : number;\n      const randomShowNums = luckydrawHandler(configNum, [], nums);\n      const randomShowDatas = randomShowNums.map((item) => {\n        const listData = this.list.find((d) => d.key === item);\n        const photo = this.photos.find((d) => d.id === item);\n        return {\n          key: item * (number > 1500 ? 3 : 1),\n          name: listData ? listData.name : '',\n          photo: photo ? photo.value : '',\n        };\n      });\n      return randomShowDatas;\n    },\n    categoryName() {\n      return conversionCategoryName(this.category);\n    },\n    photos() {\n      return this.$store.state.photos;\n    },\n  },\n  created() {\n    const data = getData(configField);\n    if (data) {\n      this.$store.commit('setConfig', Object.assign({}, data));\n    }\n    const result = getData(resultField);\n    if (result) {\n      this.$store.commit('setResult', result);\n    }\n\n    const newLottery = getData(newLotteryField);\n    if (newLottery) {\n      const config = this.config;\n      newLottery.forEach((item) => {\n        this.$store.commit('setNewLottery', item);\n        if (!config[item.key]) {\n          this.$set(config, item.key, 0);\n        }\n      });\n      this.$store.commit('setConfig', config);\n    }\n\n    const list = getData(listField);\n    if (list) {\n      this.$store.commit('setList', list);\n    }\n  },\n\n  data() {\n    return {\n      running: false,\n      showRes: false,\n      showConfig: false,\n      showResult: false,\n      resArr: [],\n      category: '',\n      audioPlaying: false,\n      audioSrc: bgaudio,\n    };\n  },\n  watch: {\n    photos: {\n      deep: true,\n      handler() {\n        this.$nextTick(() => {\n          this.reloadTagCanvas();\n        });\n      },\n    },\n  },\n  mounted() {\n    this.startTagCanvas();\n    setTimeout(() => {\n      this.getPhoto();\n    }, 1000);\n    window.addEventListener('resize', this.reportWindowSize);\n  },\n  beforeDestroy() {\n    window.removeEventListener('resize', this.reportWindowSize);\n  },\n  methods: {\n    reportWindowSize() {\n      const AppCanvas = this.$el.querySelector('#rootcanvas');\n      if (AppCanvas.parentElement) {\n        AppCanvas.parentElement.removeChild(AppCanvas);\n      }\n      this.startTagCanvas();\n    },\n    playHandler() {\n      this.audioPlaying = true;\n    },\n    pauseHandler() {\n      this.audioPlaying = false;\n    },\n    playAudio(type) {\n      if (type) {\n        this.$el.querySelector('#audiobg').play();\n      } else {\n        this.$el.querySelector('#audiobg').pause();\n      }\n    },\n    loadAudio() {\n      this.$el.querySelector('#audiobg').load();\n      this.$nextTick(() => {\n        this.$el.querySelector('#audiobg').play();\n      });\n    },\n    getPhoto() {\n      database.getAll(DB_STORE_NAME).then((res) => {\n        if (res && res.length > 0) {\n          this.$store.commit('setPhotos', res);\n        }\n      });\n    },\n    speed() {\n      return [0.1 * Math.random() + 0.01, -(0.1 * Math.random() + 0.01)];\n    },\n    createCanvas() {\n      const canvas = document.createElement('canvas');\n      canvas.width = document.body.offsetWidth;\n      canvas.height = document.body.offsetHeight;\n      canvas.id = 'rootcanvas';\n      this.$el.querySelector('#main').appendChild(canvas);\n    },\n    startTagCanvas() {\n      this.createCanvas();\n      const { speed } = this;\n      window.TagCanvas.Start('rootcanvas', 'tags', {\n        textColour: null,\n        initial: speed(),\n        dragControl: 1,\n        textHeight: 20,\n        noSelect: true,\n        lock: 'xy',\n      });\n    },\n    reloadTagCanvas() {\n      window.TagCanvas.Reload('rootcanvas');\n    },\n    closeRes() {\n      this.showRes = false;\n    },\n    toggle(form) {\n      const { speed, config } = this;\n      if (this.running) {\n        this.audioSrc = bgaudio;\n        this.loadAudio();\n\n        window.TagCanvas.SetSpeed('rootcanvas', speed());\n        this.showRes = true;\n        this.running = !this.running;\n        this.$nextTick(() => {\n          this.reloadTagCanvas();\n        });\n      } else {\n        this.showRes = false;\n        if (!form) {\n          return;\n        }\n\n        this.audioSrc = beginaudio;\n        this.loadAudio();\n\n        const { number } = config;\n        const { category, mode, qty, remain, allin } = form;\n        let num = 1;\n        if (mode === 1 || mode === 5) {\n          num = mode;\n        } else if (mode === 0) {\n          num = remain;\n        } else if (mode === 99) {\n          num = qty;\n        }\n        const resArr = luckydrawHandler(\n          number,\n          allin ? [] : this.allresult,\n          num\n        );\n        this.resArr = resArr;\n\n        this.category = category;\n        if (!this.result[category]) {\n          this.$set(this.result, category, []);\n        }\n        const oldRes = this.result[category] || [];\n        const data = Object.assign({}, this.result, {\n          [category]: oldRes.concat(resArr),\n        });\n        this.result = data;\n        window.TagCanvas.SetSpeed('rootcanvas', [5, 1]);\n        this.running = !this.running;\n      }\n    },\n  },\n};\n</script>\n<style lang=\"scss\">\n#root {\n  height: 100%;\n  position: relative;\n  background-image: url('./assets/bg1.jpg');\n  background-size: 100% 100%;\n  background-position: center center;\n  background-repeat: no-repeat;\n  background-color: #121936;\n  .mask {\n    -webkit-filter: blur(5px);\n    filter: blur(5px);\n  }\n  header {\n    height: 50px;\n    line-height: 50px;\n    position: relative;\n    .el-button {\n      position: absolute;\n      top: 17px;\n      padding: 0;\n      z-index: 9999;\n      &.con {\n        right: 20px;\n      }\n      &.res {\n        right: 100px;\n      }\n    }\n  }\n  .audio {\n    position: absolute;\n    top: 100px;\n    right: 30px;\n    width: 40px;\n    height: 40px;\n    line-height: 40px;\n    border: 1px solid #fff;\n    border-radius: 50%;\n    padding: 0;\n    text-align: center;\n    .iconfont {\n      position: relative;\n      left: 1px;\n    }\n  }\n  .copy-right {\n    position: absolute;\n    right: 0;\n    bottom: 0;\n    color: #ccc;\n    font-size: 12px;\n  }\n  .bounce-enter-active {\n    animation: bounce-in 1.5s;\n  }\n  .bounce-leave-active {\n    animation: bounce-in 0s reverse;\n  }\n}\n#main {\n  height: 100%;\n}\n\n#resbox {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  width: 1280px;\n  transform: translateX(-50%) translateY(-50%);\n  text-align: center;\n  p {\n    color: red;\n    font-size: 50px;\n    line-height: 120px;\n  }\n  .container {\n    display: flex;\n    justify-content: center;\n    flex-wrap: wrap;\n  }\n  .itemres {\n    background: #fff;\n    width: 600px;\n    height: 160px;\n    border-radius: 4px;\n    border: 1px solid #ccc;\n    line-height: 160px;\n    font-weight: bold;\n    margin-right: 20px;\n    margin-bottom: 20px;\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    position: relative;\n    .cont {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n    }\n    &.numberOver::before {\n      content: attr(data-id);\n      width: 30px;\n      height: 22px;\n      line-height: 22px;\n      background-color: #fff;\n      position: absolute;\n      bottom: 0;\n      left: 0;\n      font-size: 14px;\n      // border-radius: 50%;\n      z-index: 1;\n    }\n  }\n}\n</style>\n"],"sourceRoot":"src"}]}