{"remainingRequest":"/Users/zhangyangzuo/Downloads/BSC-lucky-draw/node_modules/babel-loader/lib/index.js!/Users/zhangyangzuo/Downloads/BSC-lucky-draw/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/zhangyangzuo/Downloads/BSC-lucky-draw/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhangyangzuo/Downloads/BSC-lucky-draw/src/components/Tool.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhangyangzuo/Downloads/BSC-lucky-draw/src/components/Tool.vue","mtime":1636613542092},{"path":"/Users/zhangyangzuo/Downloads/BSC-lucky-draw/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhangyangzuo/Downloads/BSC-lucky-draw/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zhangyangzuo/Downloads/BSC-lucky-draw/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhangyangzuo/Downloads/BSC-lucky-draw/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcudHJpbSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBjbGVhckRhdGEsIHJlbW92ZURhdGEsIGNvbmZpZ0ZpZWxkLCBsaXN0RmllbGQsIHJlc3VsdEZpZWxkLCBjb252ZXJzaW9uQ2F0ZWdvcnlOYW1lIH0gZnJvbSAnQC9oZWxwZXIvaW5kZXgnOwppbXBvcnQgSW1wb3J0cGhvdG8gZnJvbSAnLi9JbXBvcnRwaG90byc7CmltcG9ydCB7IGRhdGFiYXNlLCBEQl9TVE9SRV9OQU1FIH0gZnJvbSAnQC9oZWxwZXIvZGInOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IHsKICAgIHJ1bm5pbmc6IEJvb2xlYW4sCiAgICBjbG9zZVJlczogRnVuY3Rpb24KICB9LAogIGNvbXB1dGVkOiB7CiAgICBjb25maWc6IHsKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmNvbmZpZzsKICAgICAgfQogICAgfSwKICAgIHJlbWFpbjogZnVuY3Rpb24gcmVtYWluKCkgewogICAgICByZXR1cm4gdGhpcy5jb25maWdbdGhpcy5mb3JtLmNhdGVnb3J5XSAtICh0aGlzLnJlc3VsdFt0aGlzLmZvcm0uY2F0ZWdvcnldID8gdGhpcy5yZXN1bHRbdGhpcy5mb3JtLmNhdGVnb3J5XS5sZW5ndGggOiAwKTsKICAgIH0sCiAgICByZXN1bHQ6IGZ1bmN0aW9uIHJlc3VsdCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnJlc3VsdDsKICAgIH0sCiAgICBjYXRlZ29yeXM6IGZ1bmN0aW9uIGNhdGVnb3J5cygpIHsKICAgICAgdmFyIG9wdGlvbnMgPSBbXTsKCiAgICAgIGZvciAodmFyIGtleSBpbiB0aGlzLmNvbmZpZykgewogICAgICAgIGlmICh0aGlzLmNvbmZpZy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7CiAgICAgICAgICB2YXIgaXRlbSA9IHRoaXMuY29uZmlnW2tleV07CgogICAgICAgICAgaWYgKGl0ZW0gPiAwKSB7CiAgICAgICAgICAgIHZhciBuYW1lID0gY29udmVyc2lvbkNhdGVnb3J5TmFtZShrZXkpOwogICAgICAgICAgICBuYW1lICYmIG9wdGlvbnMucHVzaCh7CiAgICAgICAgICAgICAgbGFiZWw6IG5hbWUsCiAgICAgICAgICAgICAgdmFsdWU6IGtleQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBvcHRpb25zOwogICAgfQogIH0sCiAgY29tcG9uZW50czogewogICAgSW1wb3J0cGhvdG86IEltcG9ydHBob3RvCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2hvd1NldHdhdDogZmFsc2UsCiAgICAgIHNob3dJbXBvcnQ6IGZhbHNlLAogICAgICBzaG93SW1wb3J0cGhvdG86IGZhbHNlLAogICAgICBzaG93UmVtb3Zlb3B0aW9uczogZmFsc2UsCiAgICAgIHJlbW92ZUluZm86IHsKICAgICAgICB0eXBlOiAwCiAgICAgIH0sCiAgICAgIGZvcm06IHsKICAgICAgICBjYXRlZ29yeTogJycsCiAgICAgICAgbW9kZTogMSwKICAgICAgICBxdHk6IDEsCiAgICAgICAgYWxsaW46IGZhbHNlCiAgICAgIH0sCiAgICAgIGxpc3RTdHI6ICcnCiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgIHNob3dSZW1vdmVvcHRpb25zOiBmdW5jdGlvbiBzaG93UmVtb3Zlb3B0aW9ucyh2KSB7CiAgICAgIGlmICghdikgewogICAgICAgIHRoaXMucmVtb3ZlSW5mby50eXBlID0gMDsKICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgcmVzZXRDb25maWc6IGZ1bmN0aW9uIHJlc2V0Q29uZmlnKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIHR5cGUgPSB0aGlzLnJlbW92ZUluZm8udHlwZTsKICAgICAgdGhpcy4kY29uZmlybSgn5q2k5pON5L2c5bCG6YeN572u5omA6YCJ5pWw5o2u77yM5piv5ZCm57un57utPycsICfmj5DnpLonLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBzd2l0Y2ggKHR5cGUpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgY2xlYXJEYXRhKCk7CgogICAgICAgICAgICBfdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRDbGVhclN0b3JlJyk7CgogICAgICAgICAgICBkYXRhYmFzZS5jbGVhcihEQl9TVE9SRV9OQU1FKTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICByZW1vdmVEYXRhKGNvbmZpZ0ZpZWxkKTsKCiAgICAgICAgICAgIF90aGlzLiRzdG9yZS5jb21taXQoJ3NldENsZWFyQ29uZmlnJyk7CgogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIHJlbW92ZURhdGEobGlzdEZpZWxkKTsKCiAgICAgICAgICAgIF90aGlzLiRzdG9yZS5jb21taXQoJ3NldENsZWFyTGlzdCcpOwoKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICBkYXRhYmFzZS5jbGVhcihEQl9TVE9SRV9OQU1FKTsKCiAgICAgICAgICAgIF90aGlzLiRzdG9yZS5jb21taXQoJ3NldENsZWFyUGhvdG9zJyk7CgogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgIHJlbW92ZURhdGEocmVzdWx0RmllbGQpOwoKICAgICAgICAgICAgX3RoaXMuJHN0b3JlLmNvbW1pdCgnc2V0Q2xlYXJSZXN1bHQnKTsKCiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KCiAgICAgICAgX3RoaXMuY2xvc2VSZXMgJiYgX3RoaXMuY2xvc2VSZXMoKTsKICAgICAgICBfdGhpcy5zaG93UmVtb3Zlb3B0aW9ucyA9IGZhbHNlOwoKICAgICAgICBfdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICBtZXNzYWdlOiAn6YeN572u5oiQ5YqfIScKICAgICAgICB9KTsKCiAgICAgICAgX3RoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzLiRlbWl0KCdyZXNldENvbmZpZycpOwogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogJ2luZm8nLAogICAgICAgICAgbWVzc2FnZTogJ+W3suWPlua2iCcKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgb25TdWJtaXQ6IGZ1bmN0aW9uIG9uU3VibWl0KCkgewogICAgICBpZiAoIXRoaXMuZm9ybS5jYXRlZ29yeSkgewogICAgICAgIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKCfor7fpgInmi6nmnKzmrKHmir3lj5bnmoTlpZbpobknKTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMucmVtYWluIDw9IDApIHsKICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcign6K+l5aWW6aG55Ymp5L2Z5Lq65pWw5LiN6LazJyk7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmZvcm0ubW9kZSA9PT0gOTkpIHsKICAgICAgICBpZiAodGhpcy5mb3JtLnF0eSA8PSAwKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcign5b+F6aG76L6T5YWl5pys5qyh5oq95Y+W5Lq65pWwJyk7CiAgICAgICAgfQoKICAgICAgICBpZiAodGhpcy5mb3JtLnF0eSA+IHRoaXMucmVtYWluKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcign5pys5qyh5oq95aWW5Lq65pWw5bey6LaF6L+H5pys5aWW6aG555qE5Ymp5L2Z5Lq65pWwJyk7CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAodGhpcy5mb3JtLm1vZGUgPT09IDEgfHwgdGhpcy5mb3JtLm1vZGUgPT09IDUpIHsKICAgICAgICBpZiAodGhpcy5mb3JtLm1vZGUgPiB0aGlzLnJlbWFpbikgewogICAgICAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+acrOasoeaKveWlluS6uuaVsOW3sui2hei/h+acrOWllumhueeahOWJqeS9meS6uuaVsCcpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgdGhpcy5zaG93U2V0d2F0ID0gZmFsc2U7CiAgICAgIHRoaXMuJGVtaXQoJ3RvZ2dsZScsIE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZm9ybSwgewogICAgICAgIHJlbWFpbjogdGhpcy5yZW1haW4KICAgICAgfSkpOwogICAgfSwKICAgIHN0YXJ0SGFuZGxlcjogZnVuY3Rpb24gc3RhcnRIYW5kbGVyKCkgewogICAgICB0aGlzLiRlbWl0KCd0b2dnbGUnKTsKCiAgICAgIGlmICghdGhpcy5ydW5uaW5nKSB7CiAgICAgICAgdGhpcy5zaG93U2V0d2F0ID0gdHJ1ZTsKICAgICAgfQogICAgfSwKICAgIHRyYW5zZm9ybUxpc3Q6IGZ1bmN0aW9uIHRyYW5zZm9ybUxpc3QoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIGxpc3RTdHIgPSB0aGlzLmxpc3RTdHI7CgogICAgICBpZiAoIWxpc3RTdHIpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfmsqHmnInmlbDmja4nKTsKICAgICAgfQoKICAgICAgdmFyIGxpc3QgPSBbXTsKICAgICAgdmFyIHJvd3MgPSBsaXN0U3RyLnNwbGl0KCdcbicpOwoKICAgICAgaWYgKHJvd3MgJiYgcm93cy5sZW5ndGggPiAwKSB7CiAgICAgICAgcm93cy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICB2YXIgcm93TGlzdCA9IGl0ZW0uc3BsaXQoL1x0fFxzLyk7CgogICAgICAgICAgaWYgKHJvd0xpc3QubGVuZ3RoID49IDQpIHsKICAgICAgICAgICAgdmFyIGtleSA9IE51bWJlcihyb3dMaXN0WzBdLnRyaW0oKSk7CiAgICAgICAgICAgIHZhciBuYW1lID0gcm93TGlzdFsxXS50cmltKCkgKyAiICIgKyByb3dMaXN0WzJdLnRyaW0oKSArICIgIiArIHJvd0xpc3RbM10udHJpbSgpOwogICAgICAgICAgICBrZXkgJiYgbGlzdC5wdXNoKHsKICAgICAgICAgICAgICBrZXk6IGtleSwKICAgICAgICAgICAgICBuYW1lOiBuYW1lCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CgogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldExpc3QnLCBsaXN0KTsKICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgbWVzc2FnZTogJ+S/neWtmOaIkOWKnycsCiAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgIH0pOwogICAgICB0aGlzLnNob3dJbXBvcnQgPSBmYWxzZTsKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi4kZW1pdCgncmVzZXRDb25maWcnKTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Tool.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div id=\"tool\">\n    <el-button @click=\"startHandler\" type=\"primary\" size=\"mini\">{{\n      running ? '停止' : '开始'\n    }}</el-button>\n    <el-button size=\"mini\" @click=\"showRemoveoptions = true\">\n      重置\n    </el-button>\n    <el-button size=\"mini\" @click=\"showImport = true\">\n      导入名单\n    </el-button>\n    <el-button size=\"mini\" @click=\"showImportphoto = true\">\n      导入照片\n    </el-button>\n    <el-dialog\n      :append-to-body=\"true\"\n      :visible.sync=\"showSetwat\"\n      class=\"setwat-dialog\"\n      width=\"400px\"\n    >\n      <el-form ref=\"form\" :model=\"form\" label-width=\"80px\" size=\"mini\">\n        <el-form-item label=\"抽取奖项\">\n          <el-select v-model=\"form.category\" placeholder=\"请选取本次抽取的奖项\">\n            <el-option\n              :label=\"item.label\"\n              :value=\"item.value\"\n              v-for=\"(item, index) in categorys\"\n              :key=\"index\"\n            ></el-option>\n          </el-select>\n        </el-form-item>\n\n        <el-form-item label=\" \" v-if=\"form.category\">\n          <span>\n            共&nbsp;\n            <span class=\"colorred\">{{ config[form.category] }}</span>\n            &nbsp;名\n          </span>\n          <span :style=\"{ marginLeft: '20px' }\">\n            剩余&nbsp;\n            <span class=\"colorred\">{{ remain }}</span>\n            &nbsp;名\n          </span>\n        </el-form-item>\n\n        <el-form-item label=\"抽取方式\">\n          <el-select v-model=\"form.mode\" placeholder=\"请选取本次抽取方式\">\n            <el-option label=\"抽1人\" :value=\"1\"></el-option>\n            <el-option label=\"抽5人\" :value=\"5\"></el-option>\n            <el-option label=\"一次抽取完\" :value=\"0\"></el-option>\n            <el-option label=\"自定义\" :value=\"99\"></el-option>\n          </el-select>\n        </el-form-item>\n\n        <el-form-item label=\"抽取人数\" v-if=\"form.mode === 99\">\n          <el-input\n            v-model=\"form.qty\"\n            type=\"number\"\n            :clearable=\"true\"\n            :min=\"1\"\n            :max=\"remain ? remain : 100\"\n            :step=\"1\"\n          ></el-input>\n        </el-form-item>\n\n        <el-form-item label=\"全员参与\">\n          <el-switch v-model=\"form.allin\"></el-switch>\n          <span :style=\"{ fontSize: '12px' }\">\n            (开启后将在全体成员[无论有无中奖]中抽奖)\n          </span>\n        </el-form-item>\n\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"onSubmit\">立即抽奖</el-button>\n          <el-button @click=\"showSetwat = false\">取消</el-button>\n        </el-form-item>\n      </el-form>\n    </el-dialog>\n\n    <el-dialog\n      :append-to-body=\"true\"\n      :visible.sync=\"showImport\"\n      class=\"import-dialog\"\n      width=\"400px\"\n    >\n      <el-input\n        type=\"textarea\"\n        :rows=\"10\"\n        placeholder=\"请输入对应的号码和名单(可直接从excel复制)，格式(号码 名字)，导入的名单将代替号码显示在抽奖中。如：\n1 张三\n2 李四\n3 王五\n\t\t\t\t\"\n        v-model=\"listStr\"\n      ></el-input>\n      <div class=\"footer\">\n        <el-button size=\"mini\" type=\"primary\" @click=\"transformList\"\n          >确定</el-button\n        >\n        <el-button size=\"mini\" @click=\"showImport = false\">取消</el-button>\n      </div>\n    </el-dialog>\n    <Importphoto\n      :visible.sync=\"showImportphoto\"\n      @getPhoto=\"$emit('getPhoto')\"\n    ></Importphoto>\n\n    <el-dialog\n      :visible.sync=\"showRemoveoptions\"\n      width=\"300px\"\n      class=\"c-removeoptions\"\n      :append-to-body=\"true\"\n    >\n      <el-form ref=\"form\" :model=\"removeInfo\" label-width=\"80px\" size=\"mini\">\n        <el-form-item label=\"重置选项\">\n          <el-radio-group v-model=\"removeInfo.type\">\n            <el-radio border :label=\"0\">重置全部数据</el-radio>\n            <el-radio border :label=\"1\">重置抽奖配置</el-radio>\n            <el-radio border :label=\"2\">重置名单</el-radio>\n            <el-radio border :label=\"3\">重置照片</el-radio>\n            <el-radio border :label=\"4\">重置抽奖结果</el-radio>\n          </el-radio-group>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"resetConfig\">确定重置</el-button>\n          <el-button @click=\"showRemoveoptions = false\">取消</el-button>\n        </el-form-item>\n      </el-form>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport {\n  clearData,\n  removeData,\n  configField,\n  listField,\n  resultField,\n  conversionCategoryName\n} from '@/helper/index';\nimport Importphoto from './Importphoto';\nimport { database, DB_STORE_NAME } from '@/helper/db';\n\nexport default {\n  props: {\n    running: Boolean,\n    closeRes: Function\n  },\n  computed: {\n    config: {\n      get() {\n        return this.$store.state.config;\n      }\n    },\n    remain() {\n      return (\n        this.config[this.form.category] -\n        (this.result[this.form.category]\n          ? this.result[this.form.category].length\n          : 0)\n      );\n    },\n    result() {\n      return this.$store.state.result;\n    },\n    categorys() {\n      const options = [];\n      for (const key in this.config) {\n        if (this.config.hasOwnProperty(key)) {\n          const item = this.config[key];\n          if (item > 0) {\n            let name = conversionCategoryName(key);\n            name &&\n              options.push({\n                label: name,\n                value: key\n              });\n          }\n        }\n      }\n      return options;\n    }\n  },\n  components: { Importphoto },\n  data() {\n    return {\n      showSetwat: false,\n      showImport: false,\n      showImportphoto: false,\n      showRemoveoptions: false,\n      removeInfo: { type: 0 },\n      form: {\n        category: '',\n        mode: 1,\n        qty: 1,\n        allin: false\n      },\n      listStr: ''\n    };\n  },\n  watch: {\n    showRemoveoptions(v) {\n      if (!v) {\n        this.removeInfo.type = 0;\n      }\n    }\n  },\n  methods: {\n    resetConfig() {\n      const type = this.removeInfo.type;\n      this.$confirm('此操作将重置所选数据，是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      })\n        .then(() => {\n          switch (type) {\n            case 0:\n              clearData();\n              this.$store.commit('setClearStore');\n              database.clear(DB_STORE_NAME);\n              break;\n            case 1:\n              removeData(configField);\n              this.$store.commit('setClearConfig');\n              break;\n            case 2:\n              removeData(listField);\n              this.$store.commit('setClearList');\n              break;\n            case 3:\n              database.clear(DB_STORE_NAME);\n              this.$store.commit('setClearPhotos');\n              break;\n            case 4:\n              removeData(resultField);\n              this.$store.commit('setClearResult');\n              break;\n            default:\n              break;\n          }\n\n          this.closeRes && this.closeRes();\n\n          this.showRemoveoptions = false;\n          this.$message({\n            type: 'success',\n            message: '重置成功!'\n          });\n\n          this.$nextTick(() => {\n            this.$emit('resetConfig');\n          });\n        })\n        .catch(() => {\n          this.$message({\n            type: 'info',\n            message: '已取消'\n          });\n        });\n    },\n    onSubmit() {\n      if (!this.form.category) {\n        return this.$message.error('请选择本次抽取的奖项');\n      }\n      if (this.remain <= 0) {\n        return this.$message.error('该奖项剩余人数不足');\n      }\n      if (this.form.mode === 99) {\n        if (this.form.qty <= 0) {\n          return this.$message.error('必须输入本次抽取人数');\n        }\n        if (this.form.qty > this.remain) {\n          return this.$message.error('本次抽奖人数已超过本奖项的剩余人数');\n        }\n      }\n      if (this.form.mode === 1 || this.form.mode === 5) {\n        if (this.form.mode > this.remain) {\n          return this.$message.error('本次抽奖人数已超过本奖项的剩余人数');\n        }\n      }\n      this.showSetwat = false;\n      this.$emit(\n        'toggle',\n        Object.assign({}, this.form, { remain: this.remain })\n      );\n    },\n    startHandler() {\n      this.$emit('toggle');\n      if (!this.running) {\n        this.showSetwat = true;\n      }\n    },\n    transformList() {\n      const { listStr } = this;\n      if (!listStr) {\n        this.$message.error('没有数据');\n      }\n      const list = [];\n      const rows = listStr.split('\\n');\n      if (rows && rows.length > 0) {\n        rows.forEach(item => {\n          const rowList = item.split(/\\t|\\s/);\n          if (rowList.length >= 4) {\n            const key = Number(rowList[0].trim());\n            const name = rowList[1].trim()+\" \"+rowList[2].trim()+\" \"+rowList[3].trim();\n            key &&\n              list.push({\n                key,\n                name\n              });\n          }\n        });\n      }\n      this.$store.commit('setList', list);\n\n      this.$message({\n        message: '保存成功',\n        type: 'success'\n      });\n      this.showImport = false;\n      this.$nextTick(() => {\n        this.$emit('resetConfig');\n      });\n    }\n  }\n};\n</script>\n<style lang=\"scss\">\n#tool {\n  position: fixed;\n  width: 60px;\n  top: 50%;\n  right: 20px;\n  transform: translateY(-50%);\n  text-align: center;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  .el-button + .el-button {\n    margin-top: 20px;\n    margin-left: 0px;\n  }\n}\n.setwat-dialog {\n  .colorred {\n    color: red;\n    font-weight: bold;\n  }\n}\n.import-dialog {\n  .footer {\n    height: 50px;\n    line-height: 50px;\n    text-align: center;\n  }\n}\n.c-removeoptions {\n  .el-dialog {\n    height: 290px;\n  }\n  .el-radio.is-bordered + .el-radio.is-bordered {\n    margin-left: 0px;\n  }\n  .el-radio.is-bordered {\n    margin-bottom: 10px;\n  }\n}\n</style>\n"],"sourceRoot":"src/components"}]}